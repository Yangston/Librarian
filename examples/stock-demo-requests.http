@baseUrl = http://127.0.0.1:8000
@conversationId = stocks-demo-001

### 1) Ingest a 3-5 stock demo conversation
POST {{baseUrl}}/conversations/{{conversationId}}/messages
Content-Type: application/json

{
  "messages": [
    {
      "role": "user",
      "content": "AAPL reported iPhone revenue strength and the stock rose 3.2% after the call.",
      "timestamp": "2026-02-24T14:00:00Z"
    },
    {
      "role": "assistant",
      "content": "TSLA reported vehicle deliveries and shares moved -1.4% in late trading.",
      "timestamp": "2026-02-24T14:01:00Z"
    },
    {
      "role": "user",
      "content": "Fed rate decision impacted NVDA as traders reassessed AI valuations.",
      "timestamp": "2026-02-24T14:02:00Z"
    },
    {
      "role": "assistant",
      "content": "Supply chain disruption impacted AAPL and management flagged margin pressure.",
      "timestamp": "2026-02-24T14:03:00Z"
    },
    {
      "role": "user",
      "content": "MSFT reported cloud revenue acceleration while AMZN gained 2.1%.",
      "timestamp": "2026-02-24T14:04:00Z"
    }
  ]
}

### 2) Run extraction
POST {{baseUrl}}/conversations/{{conversationId}}/extract

### 2b) Live chat turn (persists both sides + optional extraction)
POST {{baseUrl}}/conversations/{{conversationId}}/chat/turn
Content-Type: application/json

{
  "content": "Compare AAPL and NVDA exposure to AI supply chain disruption.",
  "auto_extract": true,
  "system_prompt": "You are a concise stock research assistant."
}

### 3) Query transparent database views
GET {{baseUrl}}/conversations/{{conversationId}}/messages

###
GET {{baseUrl}}/conversations/{{conversationId}}/entities

###
GET {{baseUrl}}/conversations/{{conversationId}}/entity-merges

###
GET {{baseUrl}}/schema/predicates

###
GET {{baseUrl}}/conversations/{{conversationId}}/facts

###
GET {{baseUrl}}/conversations/{{conversationId}}/relations

### 4) Explainability (replace IDs after listing facts/relations)
GET {{baseUrl}}/conversations/{{conversationId}}/facts/1/explain

###
GET {{baseUrl}}/conversations/{{conversationId}}/relations/1/explain
